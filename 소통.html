<!DOCTYPE html>
<html lang="ko">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0,maximum-scale=1.0,minimum-scale=1.0,user-scalable=no, target-densitydpi=medium-dpi,media=(max-width: 480px)">
    <title>게시물</title>
    <link rel="stylesheet" href="소통.css">

    <script src="https://kit.fontawesome.com/2095e14c69.js" crossorigin="anonymous"></script>
</head>

<body>
    <div id="wrap">
        <header id="main_header">
            <h1> 건강관리 </h1>
        </header>

        <div id="toggle_gnb_wrap">
            <div id="toggle_gnb">
            </div>
        </div>
            <nav id="top_gnb">
                <div><a href="달력.html">홈</a></div>
                <div><a href="머신러닝.html">검색</a></div>
                <div><a href="운동.html">운동</a></div>
                <div><a href="소통.html">소통</a></div>
                <div><a href="/타이머/타이머.html">타이머</a></div>
    </nav>
</div> 

    <section class="feed_list">
    
        <br>
        <article class="feed_layout">
            <header class="feed_header">
                <div class="user_layout">
                    <div class="feed_user_profile_img1"></div>

                    <p>
                        so
                    </p>
                </div>
                <div class="feed_option_button">
                    <i class="fas fa-ellipsis-h option_icon"></i>
                </div>
            </header>
            <div class="feed_content_layout">
    
                <div class="feed_content_image_layout">
                    <img src="사진/식단.jpg" 
                    alt="zootopia-nick-judy-selfie-768x348" width="100%" />
                </div>
                <div class="feed_content_body">
                    <div class="feed_body_header">
                        <div class="body_header_left_layout">
                            <i class="far fa-comment header_icon"></i>
                        </div>
                    </div>
                </div>
                <p class="like_layout">
                    <span class="like_count"></span>
                </p>
                <div class="main_contents_layout">
                    <div class="user_contents_layout">
                        <p class="user_id">so</p>
                        <p class="user_content">다이어트</p>
                    </div>
                    <br>
           
        </article>
        
        <article class="feed_layout">
            <header class="feed_header">
                <div class="user_layout">
                    <div class="feed_user_profile_img2"></div>

                    <p>
                        heen
                    </p>
                </div>
                <div class="feed_option_button">
                    <i class="fas fa-ellipsis-h option_icon"></i>
                </div>
            </header>
            <div class="feed_content_layout">
                <div class="feed_content_image_layout">
                    <img src="사진/달리기.jpg" 
                    alt="zootopia-nick-judy-selfie-768x348" width="100%" />
                </div>
                <div class="feed_content_body">
                    <div class="feed_body_header">
                        <div class="body_header_left_layout">
                            
                            <i class="far fa-comment header_icon"></i>
                        </div>
                    </div>
                </div>
                <p class="like_layout">
                    <span class="like_count"></span>
                </p>
                <div class="main_contents_layout">
                    <div class="user_contents_layout">
                        <p class="user_id">heen</p>
                        <p class="user_content">운동 시작</p>
                    </div>
                    <br>
                    <div class="reply_counter">
                        댓글 <span class="reply_count"></span>
                    </div>
                </div>
                <div class="reply_layout">
                    <div class="reply_body">
                        <p class="reply_user_id"></p>
                        <p class="reply_content"></p>
                    </div>

                </div>
                <p class="time_layout">
                    <span class="time"></span>
                </p>
            </div>
            <div class="replay_form">
                <input type="text" class="replay_input" placeholder="댓글 달기..." />
                <button>게시</button>
            </div>
        </article>

        <article class="feed_layout">
            <header class="feed_header">
                <div class="user_layout">
                    <div class="feed_user_profile_img3"></div>

                    <p>
                        cnod
                    </p>
                </div>
                <div class="feed_option_button">
                    <i class="fas fa-ellipsis-h option_icon"></i>
                </div>
            </header>
            <div class="feed_content_layout">
                <div class="feed_content_image_layout">
                    <img src="사진\기록.jpg" 
                    alt="zootopia-nick-judy-selfie-768x348" width="100%" />
                </div>
                <div class="feed_content_body">
                    <div class="feed_body_header">
                        <div class="body_header_left_layout">
                            <i class="far fa-comment header_icon"></i>
                        </div>
                    </div>
                </div>
                <p class="like_layout">
                    <span class="like_count"></span>
                </p>
                <div class="main_contents_layout">
                    <div class="user_contents_layout">
                        <p class="user_id">cnod</p>
                        <p class="user_content">PT</p>
                    </div>
                    <br>
                    <div class="reply_counter">
                        댓글 <span class="reply_count"></span>
                    </div>
                </div>
                <div class="reply_layout">
                    <div class="reply_body">
                        <p class="reply_user_id"></p>
                        <p class="reply_content"></p>
                    </div>

                </div>
                <p class="time_layout">
                    <span class="time"></span>
                </p>
            </div>
            <div class="replay_form">
                <input type="text" class="replay_input" placeholder="댓글 달기..." />
                <button>게시</button>
            </div>
        </article>
    </section>
<script>
    const clickBtn = document.getElementsByTagName('button')[0]; // 버튼태그의 첫번째 선택
const typeC = document.getElementsByTagName('input')[1]; // 인풋태그의 두번째를 선택

typeC.addEventListener("keyup", uploadComment); // 'typeC' 이벤트 핸들러

function uploadComment(e) { // key를 눌렀다 떼면 함수 실행
    if(e.keyCode === 13) { // 엔터 키를 누르면

        let comment = document.getElementById("commentPlus");
        let makeDiv = document.createElement('div');  // 하나의 댓글을 감싸는 div 태그 만들기
        let makeUser = document.createElement('span'); // 댓글을 단 사용자이름을 감싸는 span 태그
        let makeMsg = document.createElement('span'); // 댓글 내용을 감싸는 span 태그
        let makeBtn = document.createElement('BUTTON'); // 버튼 태그
        
      // 클래스명 부여하기
        makeDiv.className = "commentDiv" // 'makeDiv'의 클래스명으로 "commentDiv" 할당
        makeUser.className = "commentUser"; // 'makeUser'의 클래스명, "commentUser" 할당
        makeMsg.className = "commentMsg"; // 'makeMsg'의 클래스명, "commentMsg" 할당
        makeBtn.className = "deleteBtn"; // 'makeBtn'의 클래스명, "deleteBtn" 할당
        
        makeMsg.innerHTML = typeC.value;
        makeUser.innerHTML = "Kookie_97"; // 사용자 이름을 하나로 정했다.
        makeBtn.innerHTML = "삭제" // 삭제버튼
        
        comment.appendChild(makeDiv); // 댓글 전체를 감싸는 div 부모태그 안에 댓글 하나의 div 자식 태그 넣기
        makeDiv.appendChild(makeUser); // div 부모태그 안에 사용자이름의 span 자식태그 넣기 
        makeDiv.appendChild(makeMsg); // div 부모태그 안에 댓글 내용의 span 자식태그 넣기 
        makeDiv.appendChild(makeBtn); // div 부모태그 안에 삭제버튼 자식 태그 넣기
          
      // 엔터키를 누르면 하나의 댓글이 만들어짐
      
    // 삭제버튼을 누르면 발생하는 이벤트 만들기
    // uploadComment()  안에 삭제 버튼 이벤트를 만든 이유: 함수 안에서 만들어진 node에 접근하기 위해서
    makeBtn.addEventListener("click", (event) => {// 삭제버튼을 클릭하면 이벤트 발생
       
        const btn = event.target; // => 그 이벤트 발생의 'target'을 btn 변수에 선언
        console.log(btn); // 콘솔창을 띄우면 버튼 태그가 출력됨
        
        const deleteAll = btn.parentNode; // btn의 부모 노드 => commentDiv(버튼 태그를 감싸는 상위태그)
        
        comment.removeChild(deleteAll); 
        // commentDiv를 감싸는 상위 태그 => comment,  comment의 자식 노드를 삭제한다 => deleteAll을(commentDiv태그를)
      
        // 결과적으로 삭제버튼을 클릭하면 그 삭제버튼을 포함하는 부모태그 commentDiv 자체가 지워져서 
        // 원하는 댓글을 삭제할 수 있다.
    })
}}

</script>
</body>

</html>